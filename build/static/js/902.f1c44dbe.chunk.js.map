{"version":3,"file":"static/js/902.f1c44dbe.chunk.js","mappings":"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","sources":["app/pages/products/index.tsx"],"sourcesContent":["import { Button } from \"@mui/material\";\nimport { _product } from \"app/apis\";\nimport { PageTitle, RoleLayout, SwitchButton } from \"app/components\";\nimport { PProduct, RBranch, RProduct } from \"app/constants\";\nimport { usePermission } from \"app/hooks\";\nimport { Product } from \"app/models\";\nimport { fmPrice } from \"app/utils\";\nimport { QR_KEY } from \"configs\";\nimport { FC } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction ProductPage() {\n  const navigate = useNavigate()\n  const { data } = useQuery({\n    queryKey: [QR_KEY.product],\n    queryFn: () => _product.findAll({\n      \"page\": 1,\n      \"limit\": 15,\n    })\n  })\n  return (\n    <RoleLayout permissionPath={RProduct.GET} isNavigate>\n      <>\n        <PageTitle title=\"Danh sách sản phẩm\">\n          <RoleLayout permissionPath={RProduct.POST}>\n            <Button\n              onClick={() => navigate(PProduct.create)}\n              size=\"medium\" color=\"primary\"\n              variant=\"contained\" >\n              Tạo mới\n            </Button>\n          </RoleLayout>\n        </PageTitle>\n        <div className=\"card\">\n          <div className='card-header border-0 pt-5'>\n            <h3 className='card-title align-items-start flex-column'>\n              <span className='text-muted mt-1 fw-semobold fs-7'>\n                {data?.context?.total} sản phẩm\n              </span>\n            </h3>\n          </div>\n          <div className='card-body py-3'>\n            <div className='table-responsive'>\n              <table className='table align-middle gs-0 gy-4'>\n                <thead>\n                  <tr className='fw-bold text-muted bg-light'>\n                    <th className='ps-4 min-w-300px rounded-start'>Tên</th>\n                    <th className='min-w-100px'>Trạng thái</th>\n                    <th className='min-w-120px'>Tag</th>\n                    <th className='min-w-100px'>Giá nhập</th>\n                    <th className='min-w-100px'>Giá bán</th>\n                    <th className='min-w-100px'>Giá ưu đãi</th>\n                    <th className='min-w-150px'>Chi nhánh</th>\n                    <th className='min-w-200px text-end rounded-end'></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {\n                    data?.context?.data?.map(item => (\n                      <Item key={item.id} product={item} />\n                    ))\n                  }\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </>\n    </RoleLayout>\n  );\n}\nconst Item: FC<{ product: Product }> = ({ product }) => {\n  const { resolve: resolveUpdate } = usePermission(RBranch.PUT)\n  const navigate = useNavigate()\n  return (\n    <tr>\n      <td>\n        <div className='d-flex align-items-center'>\n          <div className='symbol symbol-50px me-5'>\n            <span className='symbol-label bg-light'>\n              <img\n                src={product.thumbnail_url || ''}\n                className='h-75 align-self-end'\n                alt=''\n              />\n            </span>\n          </div>\n          <div className='d-flex justify-content-start flex-column'>\n            <span className=\"text-dark fw-bold mb-1 fs-6\">{product.name}</span>\n            <span className='text-muted fw-semobold text-muted d-block fs-7'>\n              {product.category?.name}\n            </span>\n          </div>\n        </div>\n      </td>\n      <td>\n        <SwitchButton disable={!resolveUpdate} value={product.status} />\n      </td>\n      <td>\n        <span className='text-muted fw-semobold text-muted d-block fs-6'>{product.tag?.name}</span>\n      </td>\n      <td>\n        <span className=\"text-dark fw-bold d-block mb-1 fs-7\">\n          {fmPrice(product.price_original)}\n        </span>\n      </td>\n      <td>\n        <span className=\"text-dark fw-bold d-block mb-1 fs-7\">\n          {fmPrice(product.price)}\n        </span>\n      </td>\n      <td>\n        <span className=\"text-dark fw-bold d-block mb-1 fs-7\">\n          {fmPrice(product.price_special)}\n        </span>\n      </td>\n      <td>\n        {\n          product.branches?.map(i => (\n            <p key={i.branch_id} className=\"text-muted fw-semobold text-muted d-block fs-7 m-0\">\n              {i.branch?.name}\n            </p>\n          ))\n        }\n      </td>\n      <td className='text-end'>\n        <RoleLayout permissionPath={RBranch.PUT}>\n          <button onClick={() => navigate(PProduct.update_id(product.id))} className=\"btn btn-icon btn-success me-1 rounded-circle btn-sm\">\n            <i className=\"bi bi-pen fs-6\"></i>\n          </button>\n        </RoleLayout>\n        <RoleLayout permissionPath={RBranch.DELETE}>\n          <button className=\"btn btn-icon btn-danger me-1 rounded-circle btn-sm\">\n            <i className=\"bi bi-trash-fill fs-6\"></i>\n          </button>\n        </RoleLayout>\n      </td>\n    </tr>\n  )\n}\n\nexport default ProductPage;"],"names":["Item","product","resolveUpdate","usePermission","RBranch","resolve","navigate","useNavigate","className","src","thumbnail_url","alt","name","category","disable","value","status","tag","fmPrice","price_original","price","price_special","branches","map","i","branch","branch_id","permissionPath","onClick","PProduct","id","data","useQuery","queryKey","QR_KEY","queryFn","_product","RProduct","isNavigate","title","size","color","variant","context","total","item"],"sourceRoot":""}