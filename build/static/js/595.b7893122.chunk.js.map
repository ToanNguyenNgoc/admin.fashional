{"version":3,"file":"static/js/595.b7893122.chunk.js","mappings":"mRAiIA,UArHA,WAAwB,IAAD,EACbA,GAAYC,EAAAA,EAAAA,GAAcC,EAAAA,GAAAA,KAA1BF,QACFG,GAAWC,EAAAA,EAAAA,MACXC,EAAsB,CAC1B,KAAQ,EACR,MAAS,GACT,SAAW,EACX,SAAY,SAENC,GAASC,EAAAA,EAAAA,UAAS,CACxBC,SAAU,CAACC,EAAAA,GAAAA,QAAgBJ,GAC3BK,QAAS,kBAAMC,EAAAA,EAAAA,QAAiBN,IAChCO,QAASZ,IAHHM,KAKR,OACE,SAAC,KAAD,CAAYO,eAAgBX,EAAAA,GAAAA,IAAcY,YAAU,EAApD,UACE,UAAC,EAAAC,SAAD,YACE,SAAC,KAAD,CAAWC,MAAM,iCAAjB,UACE,SAAC,KAAD,CAAYH,eAAgBX,EAAAA,GAAAA,KAA5B,UACE,SAAC,IAAD,CAAQe,QAAS,kBAAMd,EAASe,EAAAA,GAAAA,SAAkBC,KAAK,SAASC,MAAM,UACpEC,QAAQ,YADV,sDAMJ,iBAAKC,UAAS,OAAd,WACE,gBAAKA,UAAU,4BAAf,UACE,gBAAIA,UAAU,2CAAd,WACE,iBAAMA,UAAU,+BAAhB,gCACA,kBAAMA,UAAU,mCAAhB,iBACGhB,QADH,IACGA,GADH,UACGA,EAAMiB,eADT,aACG,EAAeC,MADlB,8BAKJ,gBAAKF,UAAU,iBAAf,UACE,gBAAKA,UAAU,mBAAf,UACE,mBAAOA,UAAU,+BAAjB,WACE,4BACE,gBAAIA,UAAU,8BAAd,WACE,eAAIA,UAAU,mBAAd,mCACA,eAAIA,UAAU,cAAd,oBACA,eAAIA,UAAU,cAAd,yBACA,SAAC,KAAD,CAAYT,eAAgBX,EAAAA,GAAAA,IAA5B,UACE,eAAIoB,UAAU,aAAd,mCAEF,eAAIA,UAAU,cAAd,+BACA,eAAIA,UAAU,2CAGlB,kCAEIhB,QAFJ,IAEIA,OAFJ,EAEIA,EAAMiB,QAAQjB,KAAKmB,KAAI,SAACC,GAAD,aACrB,2BACE,yBACE,iBAAKJ,UAAU,4BAAf,WACE,gBAAKA,UAAU,0BAAf,UACE,SAAC,IAAD,CAAQK,IAAKD,EAAEE,QAAUF,EAAEG,SAAUC,IAAI,QAE3C,iBAAKR,UAAU,2CAAf,WACE,iBAAMA,UAAU,8BAAhB,SACGI,EAAEG,YAEL,iBAAMP,UAAU,iDAAhB,SACGI,EAAEK,qBAKX,yBACE,iBAAMT,UAAU,iDAAhB,SACGI,EAAEM,WAGP,kCAEIN,EAAEO,aAFN,aAEI,EAASR,KAAI,SAACS,GAAD,eACX,iBAA0BZ,UAAU,0BAApC,gBACGY,QADH,IACGA,GADH,UACGA,EAAMA,YADT,aACG,EAAYC,MADf,UAAWD,EAAKA,YAAhB,aAAW,EAAWE,UAM5B,SAAC,KAAD,CAAYvB,eAAgBX,EAAAA,GAAAA,IAA5B,UACE,eAAIoB,UAAU,gCAAd,UACE,SAAC,KAAD,CAAce,MAAOX,EAAEY,cAG3B,yBACE,iBAAMhB,UAAU,iDAAhB,SACGiB,GAAAA,CAAOb,EAAEc,YAAYC,OAAO,yBAGjC,gBAAInB,UAAU,WAAd,WACE,SAAC,KAAD,CAAYT,eAAgBX,EAAAA,GAAAA,IAA5B,UACE,SAAC,KAAD,CAAMwC,GAAIxB,EAAAA,GAAAA,UAAmBQ,EAAEU,IAAKd,UAAU,uDAA9C,UACE,cAAGA,UAAU,wBAGjB,SAAC,KAAD,CAAYT,eAAgBX,EAAAA,GAAAA,OAA5B,UACE,mBAAQoB,UAAU,qDAAlB,UACE,cAAGA,UAAU,mCAhDZI,EAAEU","sources":["app/pages/accounts/index.tsx"],"sourcesContent":["import { Avatar, Button } from \"@mui/material\";\nimport { _account } from \"app/apis\";\nimport { PageTitle, RoleLayout, SwitchButton } from \"app/components\";\nimport { PAccount, RAccount } from \"app/constants\";\nimport { usePermission } from \"app/hooks\";\nimport { QrAccount } from \"app/models\";\nimport { QR_KEY } from \"configs\";\nimport moment from \"moment\";\nimport { Fragment } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nfunction AccountPage() {\n  const { resolve } = usePermission(RAccount.GET)\n  const navigate = useNavigate()\n  const qrParams: QrAccount = {\n    'page': 1,\n    'limit': 15,\n    'manager': true,\n    'includes': 'roles'\n  }\n  const { data } = useQuery({\n    queryKey: [QR_KEY.account, qrParams],\n    queryFn: () => _account.findAll(qrParams),\n    enabled: resolve,\n  })\n  return (\n    <RoleLayout permissionPath={RAccount.GET} isNavigate>\n      <Fragment>\n        <PageTitle title=\"Danh sách tài khoản\">\n          <RoleLayout permissionPath={RAccount.POST}>\n            <Button onClick={() => navigate(PAccount.create)} size=\"medium\" color=\"primary\"\n              variant=\"contained\" >\n              Tạo mới tài khoản\n            </Button>\n          </RoleLayout>\n        </PageTitle>\n        <div className={`card`}>\n          <div className='card-header border-0 pt-5'>\n            <h3 className='card-title align-items-start flex-column'>\n              <span className='card-label fw-bold fs-3 mb-1'>Tài khoản</span>\n              <span className='text-muted mt-1 fw-semobold fs-7'>\n                {data?.context?.total} tài khoản\n              </span>\n            </h3>\n          </div>\n          <div className='card-body py-3'>\n            <div className='table-responsive'>\n              <table className='table align-middle gs-0 gy-4'>\n                <thead>\n                  <tr className='fw-bold text-muted bg-light'>\n                    <th className='ps-4 min-w-200px'>Họ và tên</th>\n                    <th className='min-w-125px'>Email</th>\n                    <th className='min-w-125px'>Quyền</th>\n                    <RoleLayout permissionPath={RAccount.PUT} >\n                      <th className='min-w-50px'>Trạng thái</th>\n                    </RoleLayout>\n                    <th className='min-w-100px'>Ngày tạo</th>\n                    <th className='min-w-200px text-end rounded-end'></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {\n                    data?.context.data.map((i) => (\n                      <tr key={i.id}>\n                        <td>\n                          <div className='d-flex align-items-center'>\n                            <div className='symbol symbol-50px me-5'>\n                              <Avatar src={i.avatar || i.fullname} alt=\"\" />\n                            </div>\n                            <div className='d-flex justify-content-start flex-column'>\n                              <span className='text-dark fw-bold mb-1 fs-6'>\n                                {i.fullname}\n                              </span>\n                              <span className='text-muted fw-semobold text-muted d-block fs-7'>\n                                {i.telephone}\n                              </span>\n                            </div>\n                          </div>\n                        </td>\n                        <td>\n                          <span className='text-muted fw-semobold text-muted d-block fs-6'>\n                            {i.email}\n                          </span>\n                        </td>\n                        <td>\n                          {\n                            i.roles?.map((role) => (\n                              <span key={role.role?.id} className=\"badge badge-primary m-1\">\n                                {role?.role?.name}\n                              </span>\n                            ))\n                          }\n                        </td>\n                        <RoleLayout permissionPath={RAccount.PUT}>\n                          <td className=\"d-flex justify-content-center\">\n                            <SwitchButton value={i.status} />\n                          </td>\n                        </RoleLayout>\n                        <td>\n                          <span className='text-muted fw-semobold text-muted d-block fs-7'>\n                            {moment(i.created_at).format('HH:mm DD/MM/YYYY')}\n                          </span>\n                        </td>\n                        <td className='text-end'>\n                          <RoleLayout permissionPath={RAccount.PUT}>\n                            <Link to={PAccount.update_id(i.id)} className=\"btn btn-icon btn-success me-1 rounded-circle btn-sm \">\n                              <i className=\"bi bi-pen fs-6\"></i>\n                            </Link>\n                          </RoleLayout>\n                          <RoleLayout permissionPath={RAccount.DELETE}>\n                            <button className=\"btn btn-icon btn-danger me-1 rounded-circle btn-sm\">\n                              <i className=\"bi bi-trash-fill fs-6\"></i>\n                            </button>\n                          </RoleLayout>\n                        </td>\n                      </tr>\n                    ))\n                  }\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    </RoleLayout>\n  );\n}\n\nexport default AccountPage;"],"names":["resolve","usePermission","RAccount","navigate","useNavigate","qrParams","data","useQuery","queryKey","QR_KEY","queryFn","_account","enabled","permissionPath","isNavigate","Fragment","title","onClick","PAccount","size","color","variant","className","context","total","map","i","src","avatar","fullname","alt","telephone","email","roles","role","name","id","value","status","moment","created_at","format","to"],"sourceRoot":""}