"use strict";(self.webpackChunkadmin_fashional_pro=self.webpackChunkadmin_fashional_pro||[]).push([[753],{753:function(e,r,t){t.r(r),t.d(r,{default:function(){return M}});var s=t(885),a=t(3366),n=t(7462),i=t(2791),l=t(9278),o=t(4419),c=t(6934),d=t(1402),u=t(9201),m=t(184),h=(0,u.Z)((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),x=t(5878),f=t(2220);function v(e){return(0,f.Z)("MuiAvatar",e)}(0,x.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var p=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],j=(0,c.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,t=e.ownerState;return(0,n.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,n.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),b=(0,c.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),g=(0,c.ZP)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var N=i.forwardRef((function(e,r){var t=(0,d.Z)({props:e,name:"MuiAvatar"}),c=t.alt,u=t.children,h=t.className,x=t.component,f=void 0===x?"div":x,N=t.imgProps,y=t.sizes,w=t.src,k=t.srcSet,P=t.variant,Z=void 0===P?"circular":P,R=(0,a.Z)(t,p),S=null,z=function(e){var r=e.crossOrigin,t=e.referrerPolicy,a=e.src,n=e.srcSet,l=i.useState(!1),o=(0,s.Z)(l,2),c=o[0],d=o[1];return i.useEffect((function(){if(a||n){d(!1);var e=!0,s=new Image;return s.onload=function(){e&&d("loaded")},s.onerror=function(){e&&d("error")},s.crossOrigin=r,s.referrerPolicy=t,s.src=a,n&&(s.srcset=n),function(){e=!1}}}),[r,t,a,n]),c}((0,n.Z)({},N,{src:w,srcSet:k})),C=w||k,D=C&&"error"!==z,T=(0,n.Z)({},t,{colorDefault:!D,component:f,variant:Z}),A=function(e){var r=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,o.Z)(t,v,r)}(T);return S=D?(0,m.jsx)(b,(0,n.Z)({alt:c,src:w,srcSet:k,sizes:y,ownerState:T,className:A.img},N)):null!=u?u:C&&c?c[0]:(0,m.jsx)(g,{ownerState:T,className:A.fallback}),(0,m.jsx)(j,(0,n.Z)({as:f,ownerState:T,className:(0,l.Z)(A.root,h),ref:r},R,{children:S}))})),y=t(6151),w=t(7280),k=t(1966),P=t(3654),Z=t(7593),R=t(6541),S=t(2426),z=t.n(S),C=t(1933),D=t(3504),T=t(6871);var A=function(e){var r,t=e.i,s=e.qrParams,a=void 0===s?{}:s,n=e.result,i=void 0===n?function(){}:n,l=(0,C.useQueryClient)(),o=(0,C.useMutation)({mutationFn:function(){return w.qg.delete(t.id)},onSuccess:function(){i({message:"X\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",color:"success"}),setTimeout((function(){l.invalidateQueries([R.xG.account,a])}),100)},onError:function(e){var r;i({message:(null===(r=e.response)||void 0===r?void 0:r.data.message)||"C\xf3 l\u1ed7i x\u1ea3y ra",color:"error"})}}),c=o.mutate,d=o.isLoading;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)("div",{className:"symbol symbol-50px me-5",children:(0,m.jsx)(N,{src:t.avatar||t.fullname,alt:""})}),(0,m.jsxs)("div",{className:"d-flex justify-content-start flex-column",children:[(0,m.jsx)("span",{className:"text-dark fw-bold mb-1 fs-6",children:t.fullname}),(0,m.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:t.telephone})]})]})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-6",children:t.email})}),(0,m.jsx)("td",{children:null===(r=t.roles)||void 0===r?void 0:r.map((function(e){var r,t;return(0,m.jsx)("span",{className:"badge badge-primary m-1",children:null===e||void 0===e||null===(t=e.role)||void 0===t?void 0:t.name},null===(r=e.role)||void 0===r?void 0:r.id)}))}),(0,m.jsx)(k.uR,{permissionPath:P.tz.PUT,children:(0,m.jsx)("td",{className:"d-flex justify-content-center",children:(0,m.jsx)(k.U3,{value:t.status})})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:z()(t.created_at).format("HH:mm DD/MM/YYYY")})}),(0,m.jsxs)("td",{className:"text-end",children:[(0,m.jsx)(k.uR,{permissionPath:P.tz.PUT,children:(0,m.jsx)(D.rU,{to:P.Xx.update_id(t.id),className:"btn btn-icon btn-success me-1 rounded-circle btn-sm ",children:(0,m.jsx)("i",{className:"bi bi-pen fs-6"})})}),(0,m.jsx)(k.uR,{permissionPath:P.tz.DELETE,children:(0,m.jsx)("button",{onClick:function(){return c()},className:"btn btn-icon btn-danger me-1 rounded-circle btn-sm",children:d?(0,m.jsx)(k.fC,{}):(0,m.jsx)("i",{className:"bi bi-trash-fill fs-6"})})})]})]})})},M=function(){var e,r=(0,Z.gI)(P.tz.GET).resolve,t=(0,Z.UD)(),s=t.notification,a=t.onClose,n=t.result,l=(0,T.s0)(),o={page:1,limit:15,manager:!0,includes:"roles"},c=(0,C.useQuery)({queryKey:[R.xG.account,o],queryFn:function(){return w.qg.findAll(o)},enabled:r}).data;return(0,m.jsx)(k.uR,{permissionPath:P.tz.GET,isNavigate:!0,children:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(k.V1,{title:"Danh s\xe1ch t\xe0i kho\u1ea3n",children:(0,m.jsx)(k.uR,{permissionPath:P.tz.POST,children:(0,m.jsx)(y.Z,{onClick:function(){return l(P.Xx.create)},size:"medium",color:"primary",variant:"contained",children:"T\u1ea1o m\u1edbi t\xe0i kho\u1ea3n"})})}),(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"card-header border-0 pt-5",children:(0,m.jsxs)("h3",{className:"card-title align-items-start flex-column",children:[(0,m.jsx)("span",{className:"card-label fw-bold fs-3 mb-1",children:"T\xe0i kho\u1ea3n"}),(0,m.jsxs)("span",{className:"text-muted mt-1 fw-semobold fs-7",children:[null===c||void 0===c||null===(e=c.context)||void 0===e?void 0:e.total," t\xe0i kho\u1ea3n"]})]})}),(0,m.jsx)("div",{className:"card-body py-3",children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table align-middle gs-0 gy-4",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{className:"fw-bold text-muted bg-light",children:[(0,m.jsx)("th",{className:"ps-4 min-w-200px",children:"H\u1ecd v\xe0 t\xean"}),(0,m.jsx)("th",{className:"min-w-125px",children:"Email"}),(0,m.jsx)("th",{className:"min-w-125px",children:"Quy\u1ec1n"}),(0,m.jsx)(k.uR,{permissionPath:P.tz.PUT,children:(0,m.jsx)("th",{className:"min-w-50px",children:"Tr\u1ea1ng th\xe1i"})}),(0,m.jsx)("th",{className:"min-w-100px",children:"Ng\xe0y t\u1ea1o"}),(0,m.jsx)("th",{className:"min-w-200px text-end rounded-end"})]})}),(0,m.jsx)("tbody",{children:null===c||void 0===c?void 0:c.context.data.map((function(e){return(0,m.jsx)(A,{i:e,result:n,qrParams:o},e.id)}))})]})})})]}),(0,m.jsx)(k.rH,{message:s.message,open:s.openAlert,onClose:a,severity:s.color})]})})}}}]);
//# sourceMappingURL=753.cf4768fc.chunk.js.map