{"version":3,"file":"static/js/37.22a6535d.chunk.js","mappings":"qPAqHA,UA3GA,WAAsB,IAAD,IACXA,GAAYC,EAAAA,EAAAA,IAAcC,EAAAA,GAAAA,KAA1BF,QACFG,GAAWC,EAAAA,EAAAA,MACTC,GAASC,EAAAA,EAAAA,UAAS,CACxBC,SAAU,CAACC,EAAAA,GAAAA,OACXC,QAAS,kBAAMC,EAAAA,GAAAA,QAAe,CAC5B,KAAQ,EACR,MAAS,GACT,SAAY,sBAEdC,QAASX,IAPHK,KASR,OACE,SAAC,KAAD,CAAYO,eAAgBV,EAAAA,GAAAA,IAAYW,YAAU,EAAlD,UACE,iCACE,SAAC,KAAD,CAAWC,MAAM,wCACjB,gBAAKC,UAAU,OAAf,UACE,gBAAKA,UAAU,sBAAf,UACE,gBAAKA,UAAU,mBAAf,UACE,mBAAOA,UAAU,+BAAjB,WACE,4BACE,gBAAIA,UAAU,8BAAd,WACE,eAAIA,UAAU,iCAAd,2DACA,eAAIA,UAAU,cAAd,+BACA,eAAIA,UAAU,cAAd,+BACA,eAAIA,UAAU,cAAd,+CACA,eAAIA,UAAU,cAAd,sCACA,eAAIA,UAAU,cAAd,gDACA,eAAIA,UAAU,2CAGlB,kCAEIV,QAFJ,IAEIA,GAFJ,UAEIA,EAAMW,eAFV,iBAEI,EAAeX,YAFnB,aAEI,EAAqBY,KAAI,SAAAC,GAAI,6BAC3B,2BACE,yBACE,gBAAKH,UAAU,4BAAf,UACE,iBAAKA,UAAU,2CAAf,WACE,kBAAMA,UAAU,8BAAhB,qBAAkDG,EAAKC,OACvD,iBAAMJ,UAAU,iDAAhB,SACGK,GAAAA,CAAOF,EAAKG,YAAYC,OAAO,8BAKxC,2BACE,iBAAMP,UAAU,sCAAhB,mBACGG,EAAKK,eADR,aACG,EAAcC,YAEjB,iBAAMT,UAAU,iDAAhB,mBACGG,EAAKK,eADR,aACG,EAAcE,SAEjB,iBAAMV,UAAU,iDAAhB,mBACGG,EAAKK,eADR,aACG,EAAcG,gBAGnB,2BACE,iBAAMX,UAAU,sCAAhB,mBACGG,EAAKS,sBADR,aACG,EAAqBC,cAExB,iBAAMb,UAAU,iDAAhB,mBACGG,EAAKS,sBADR,aACG,EAAqBE,WAG1B,yBACE,iBAAMd,UAAU,sCAAhB,mBACGG,EAAKY,uBADR,aACG,EAAsBC,YAG3B,yBACE,iBAAMhB,UAAU,sCAAhB,UACGiB,EAAAA,EAAAA,IAAO,UAACd,EAAKY,uBAAN,aAAC,EAAsBG,aAGnC,2BACE,iBAAMlB,UAAU,iDAAhB,mBACGG,EAAKgB,iBAAiB,UADzB,aACG,EAA0BC,eAE7B,iBAAMpB,UAAU,iDAAhB,mBACGG,EAAKgB,iBAAiB,UADzB,aACG,EAA0BE,WAG/B,gBAAIrB,UAAU,WAAd,WACE,SAAC,KAAD,CAAYH,eAAgBV,EAAAA,GAAAA,IAA5B,UACE,mBAAQmC,QAAS,kBAAMlC,EAASmC,EAAAA,GAAAA,UAAiBpB,EAAKC,MAAMoB,KAAK,SAASxB,UAAU,sDAApF,UACE,cAAGA,UAAU,wBAGjB,SAAC,KAAD,CAAYH,eAAgBV,EAAAA,GAAAA,OAA5B,UACE,mBAAQa,UAAU,qDAAlB,UACE,cAAGA,UAAU,mCAxDZG,EAAKC","sources":["app/pages/orders/index.tsx"],"sourcesContent":["import { _order } from \"app/apis\";\nimport { PageTitle, RoleLayout } from \"app/components\";\nimport { POrder, ROrder } from \"app/constants\";\nimport { usePermission } from \"app/hooks\";\nimport { fmPrice } from \"app/utils\";\nimport { QR_KEY } from \"configs\";\nimport moment from \"moment\";\nimport { useQuery } from \"react-query\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction OrderPage() {\n  const { resolve } = usePermission(ROrder.GET)\n  const navigate = useNavigate()\n  const { data } = useQuery({\n    queryKey: [QR_KEY.order],\n    queryFn: () => _order.findAll({\n      \"page\": 1,\n      \"limit\": 15,\n      \"includes\": \"order_deliveries\"\n    }),\n    enabled: resolve\n  })\n  return (\n    <RoleLayout permissionPath={ROrder.GET} isNavigate >\n      <>\n        <PageTitle title=\"Danh sách đơn hàng\" />\n        <div className=\"card\">\n          <div className='card-body py-3 pt-5'>\n            <div className='table-responsive'>\n              <table className='table align-middle gs-0 gy-4'>\n                <thead>\n                  <tr className='fw-bold text-muted bg-light'>\n                    <th className='ps-4 min-w-200px rounded-start'>Mã đơn hàng/ngày tạo</th>\n                    <th className='min-w-125px'>Khách hàng</th>\n                    <th className='min-w-200px'>PT thanh toán</th>\n                    <th className='min-w-175px'>Trạng thái thanh toán</th>\n                    <th className='min-w-150px'>Tổng thanh toán</th>\n                    <th className='min-w-175px'>Trạng thái giao nhận</th>\n                    <th className='min-w-200px text-end rounded-end'></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {\n                    data?.context?.data?.map(item => (\n                      <tr key={item.id}>\n                        <td>\n                          <div className='d-flex align-items-center'>\n                            <div className='d-flex justify-content-start flex-column'>\n                              <span className=\"text-dark fw-bold mb-1 fs-6\">ĐH-{item.id}</span>\n                              <span className='text-muted fw-semobold text-muted d-block fs-7'>\n                                {moment(item.created_at).format('HH:mm DD/MM/YYYY')}\n                              </span>\n                            </div>\n                          </div>\n                        </td>\n                        <td>\n                          <span className=\"text-dark fw-bold d-block mb-1 fs-6\">\n                            {item.account?.fullname}\n                          </span>\n                          <span className='text-muted fw-semobold text-muted d-block fs-7'>\n                            {item.account?.email}\n                          </span>\n                          <span className='text-muted fw-semobold text-muted d-block fs-7'>\n                            {item.account?.telephone}\n                          </span>\n                        </td>\n                        <td>\n                          <span className=\"text-dark fw-bold d-block mb-1 fs-6\">\n                            {item.payment_method?.method_key}\n                          </span>\n                          <span className='text-muted fw-semobold text-muted d-block fs-7'>\n                            {item.payment_method?.name}\n                          </span>\n                        </td>\n                        <td>\n                          <span className=\"text-dark fw-bold d-block mb-1 fs-7\">\n                            {item.payment_gateway?.status}\n                          </span>\n                        </td>\n                        <td>\n                          <span className=\"text-dark fw-bold d-block mb-1 fs-7\">\n                            {fmPrice(item.payment_gateway?.amount)}\n                          </span>\n                        </td>\n                        <td>\n                          <span className='text-muted fw-semobold text-muted d-block fs-7'>\n                            {item.order_deliveries[0]?.status_name}\n                          </span>\n                          <span className='text-muted fw-semobold text-muted d-block fs-8'>\n                            {item.order_deliveries[0]?.note}\n                          </span>\n                        </td>\n                        <td className='text-end'>\n                          <RoleLayout permissionPath={ROrder.PUT}>\n                            <button onClick={() => navigate(POrder.update_id(item.id))} type=\"button\" className=\"btn btn-icon btn-success me-1 rounded-circle btn-sm\">\n                              <i className=\"bi bi-pen fs-6\"></i>\n                            </button>\n                          </RoleLayout>\n                          <RoleLayout permissionPath={ROrder.DELETE}>\n                            <button className=\"btn btn-icon btn-danger me-1 rounded-circle btn-sm\">\n                              <i className=\"bi bi-trash-fill fs-6\"></i>\n                            </button>\n                          </RoleLayout>\n                        </td>\n                      </tr>\n                    ))\n                  }\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </>\n    </RoleLayout>\n  );\n}\n\nexport default OrderPage;"],"names":["resolve","usePermission","ROrder","navigate","useNavigate","data","useQuery","queryKey","QR_KEY","queryFn","_order","enabled","permissionPath","isNavigate","title","className","context","map","item","id","moment","created_at","format","account","fullname","email","telephone","payment_method","method_key","name","payment_gateway","status","fmPrice","amount","order_deliveries","status_name","note","onClick","POrder","type"],"sourceRoot":""}