"use strict";(self.webpackChunkadmin_fashional_pro=self.webpackChunkadmin_fashional_pro||[]).push([[900],{6900:function(e,n,t){t.r(n);var s=t(5861),a=t(1413),i=t(4687),l=t.n(i),r=t(6151),d=t(6362),c=t(7794),u=t(9891),o=t(7063),m=t(1156),h=t(3654),x=t(5280),j=t(6829),f=t(9965),p=t(5173),g=t(2426),v=t.n(g),b=t(3199),y=t(2791),N=t(1933),C=t(6871),w=t(1724),S=t(184),k=w.Ry({name:w.Z_().required(),type:w.Z_().required()});var P=function(e){var n=e.query,t=(0,N.useQueryClient)(),a=(0,N.useMutation)({mutationFn:function(e){return o.Si.create(e)},onSuccess:function(){t.invalidateQueries([f.xG.tag,n])}}),i=a.mutateAsync,r=a.isLoading,x=(0,p.TA)({initialValues:{name:"",type:"",status:!0},validationSchema:k,onSubmit:function(){var e=(0,s.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:y();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),j=x.values,g=x.setFieldValue,v=x.handleChange,b=x.handleSubmit,y=x.resetForm;return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("div",{className:"d-flex align-items-center",children:(0,S.jsx)("input",{type:"text",className:"form-control form-control-solid",name:"name",value:j.name,onChange:v,placeholder:"T\xean tag..."})})}),(0,S.jsx)("td",{children:(0,S.jsx)(d.Z,{sx:{m:1,minWidth:120},size:"small",children:(0,S.jsxs)(c.Z,{size:"small",value:j.type,onChange:function(e){return g("type",e.target.value)},children:[(0,S.jsx)(u.Z,{value:"COLLAB",children:"COLLAB"}),(0,S.jsx)(u.Z,{value:"SHOP",children:"SHOP"})]})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.uR,{permissionPath:h.Ru.PUT,children:(0,S.jsx)("button",{type:"submit",onClick:function(){return b()},className:"btn btn-icon btn-success me-1 rounded-circle btn-sm",children:r?(0,S.jsx)(m.fC,{}):(0,S.jsx)("i",{className:"fa fa-check fs-6"})})})})]})},Z=function(e){var n=e.tag,t=e.query,s=(0,x.gI)(h.Ru.PUT).resolve,a=(0,N.useQueryClient)(),i=(0,N.useMutation)({mutationFn:function(e){return o.Si.update(n.id,e)}}),l=i.mutate,r=i.isLoading,g=(0,N.useMutation)({mutationFn:function(){return o.Si.delete(n.id)},onSuccess:function(){a.invalidateQueries([f.xG.tag,t])}}),b=g.mutate,y=g.isLoading,C=(0,p.TA)({initialValues:{name:n.name,type:n.type,status:n.status},validationSchema:k,onSubmit:function(e){return l(e)}}),w=C.values,P=C.setFieldValue,Z=C.handleChange,T=C.handleSubmit;return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("div",{className:"d-flex align-items-center",children:(0,S.jsx)("input",{disabled:!s,value:w.name,name:"name",onChange:Z,type:"text",className:"form-control form-control-solid"})})}),(0,S.jsx)("td",{children:(0,S.jsx)("span",{className:"text-dark fw-bold d-block mb-1 fs-6",children:(0,j.lV)(w.name)})}),(0,S.jsx)("td",{children:(0,S.jsx)(d.Z,{sx:{m:1,minWidth:120},size:"small",children:(0,S.jsxs)(c.Z,{size:"small",disabled:!s,value:w.type,onChange:function(e){return P("type",e.target.value)},children:[(0,S.jsx)(u.Z,{value:"COLLAB",children:"COLLAB"}),(0,S.jsx)(u.Z,{value:"SHOP",children:"SHOP"})]})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.U3,{value:w.status,onChange:function(e){return n=e.target.checked,void(s&&(P("status",n),l({status:n})));var n}})}),(0,S.jsx)("td",{children:(0,S.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:v()(n.updated_at).format("DD/MM/YYYY")})}),(0,S.jsx)("td",{children:(0,S.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:v()(n.created_at).format("DD/MM/YYYY")})}),(0,S.jsxs)("td",{className:"text-end",children:[(0,S.jsx)(m.uR,{permissionPath:h.Ru.PUT,children:(0,S.jsx)("button",{type:"submit",onClick:function(){return T()},className:"btn btn-icon btn-success me-1 rounded-circle btn-sm",children:r?(0,S.jsx)(m.fC,{}):(0,S.jsx)("i",{className:"fa fa-check fs-6"})})}),(0,S.jsx)(m.uR,{permissionPath:h.Ru.DELETE,children:(0,S.jsx)("button",{onClick:function(){return b()},className:"btn btn-icon btn-danger me-1 rounded-circle btn-sm",children:y?(0,S.jsx)(m.fC,{}):(0,S.jsx)("i",{className:"bi bi-trash-fill fs-6"})})})]})]})};n.default=function(){var e,n,t,s=(0,y.useRef)(null),i=(0,C.TH)(),l=(0,C.s0)(),d=b.Z.parse(i.search),c=(0,N.useQuery)({queryKey:[f.xG.tag,d],queryFn:function(){return o.Si.findAll({page:d.page||1,limit:15})}}).data;return(0,S.jsx)(m.uR,{permissionPath:h.Ru.GET,isNavigate:!0,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.V1,{title:"Tag",children:(0,S.jsx)(m.uR,{permissionPath:h.Ru.POST,children:(0,S.jsx)(r.Z,{onClick:function(){var e,n;null===(e=s.current)||void 0===e||e.classList.toggle("d-block"),null===(n=s.current)||void 0===n||n.classList.toggle("d-none")},size:"medium",color:"primary",variant:"contained",children:"T\u1ea1o m\u1edbi tag"})})}),(0,S.jsxs)("div",{className:"card",children:[(0,S.jsx)("div",{className:"card-header border-0 pt-5",children:(0,S.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,S.jsxs)("span",{className:"text-muted mt-1 fw-semobold fs-7",children:[null===c||void 0===c?void 0:c.context.total," tags"]})})}),(0,S.jsx)("div",{className:"card-body py-3",children:(0,S.jsxs)("div",{className:"table-responsive",children:[(0,S.jsxs)("table",{className:"table align-middle gs-0 gy-4",children:[(0,S.jsxs)("thead",{children:[(0,S.jsx)("tr",{className:"fw-bold text-muted bg-light"})," "]}),(0,S.jsx)("tbody",{className:"d-none",ref:s,children:(0,S.jsx)(P,{query:d})})]}),(0,S.jsxs)("table",{className:"table align-middle gs-0 gy-4",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{className:"fw-bold text-muted bg-light",children:[(0,S.jsx)("th",{className:"ps-4 min-w-200px rounded-start",children:"T\xean"}),(0,S.jsx)("th",{className:"min-w-125px",children:"Slugify"}),(0,S.jsx)("th",{className:"min-w-125px",children:"Type"}),(0,S.jsx)("th",{className:"min-w-125px",children:"Tr\u1ea1ng th\xe1i"}),(0,S.jsx)("th",{className:"min-w-100px",children:"C\u1eadp nh\u1eadt"}),(0,S.jsx)("th",{className:"min-w-100px",children:"Ng\xe0y t\u1ea1o"}),(0,S.jsx)("th",{className:"min-w-200px text-end rounded-end"})]})}),(0,S.jsx)("tbody",{children:null===c||void 0===c||null===(e=c.context.data)||void 0===e?void 0:e.map((function(e){return(0,S.jsx)(Z,{tag:e,query:d},e.id)}))})]})]})}),(0,S.jsx)("div",{className:"d-flex justify-content-end",children:(0,S.jsx)(m.Aw,{totalPage:null!==(n=null===c||void 0===c?void 0:c.context.total_page)&&void 0!==n?n:1,onChangePage:function(e){var n=(0,a.Z)((0,a.Z)({},d),{},{page:e});l({pathname:i.pathname,search:b.Z.stringify(n)})},defaultPage:null!==(t=null===d||void 0===d?void 0:d.page)&&void 0!==t?t:1})})]})]})})}}}]);
//# sourceMappingURL=900.dee36048.chunk.js.map