"use strict";(self.webpackChunkadmin_fashional_pro=self.webpackChunkadmin_fashional_pro||[]).push([[531],{2531:function(e,n,a){a.r(n);var s=a(7063),t=a(4296),i=a(3654),r=a(9965),c=a(1933),l=a(6871),o=a(5173),u=a(5366),d=a(1724),m=a(5280),h=a(184);n.default=function(){var e=(0,l.UO)().id,n=(0,m.UD)(),a=n.result,g=n.notification,x=g.message,f=g.color,j=g.openAlert,p=n.onClose,v=(0,c.useMutation)({mutationFn:function(n){return e?s.VR.update(e,n):s.VR.create(n)},onSuccess:function(){return a({message:e?"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng":"T\u1ea1o m\u1edbi th\xe0nh c\xf4ng",color:"success"})},onError:function(e){var n;a({message:(null===(n=e.response)||void 0===n?void 0:n.data.message)||"C\xf3 l\u1ed7i x\u1ea3y ra",color:"error"})}}),y=v.mutate,N=v.isLoading,_=(0,o.TA)({initialValues:{name:"",tag_id:"",status:!0},validationSchema:d.Ry({name:d.Z_().required("Nh\u1eadp t\xean"),tag_id:d.Rx().required("Ch\u1ecdn tag")}),onSubmit:function(e){return y(e)}}),b=_.values,C=_.errors,T=_.touched,S=_.setFieldValue,k=_.handleChange,q=_.handleSubmit,R=(0,c.useQuery)({queryKey:[r.xG.category,e],queryFn:function(){return s.VR.findById(e||0)},enabled:!!e,onSuccess:function(e){S("name",e.context.name),S("tag_id",e.context.tag_id),S("status",e.context.status)}}),V=R.refetch,F=R.isFetching;return(0,h.jsx)(t.uR,{permissionPath:e?i.MM.PUT:i.MM.POST,isNavigate:!0,children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(t.V1,{title:e?"Thay \u0111\u1ed5i danh m\u1ee5c":"T\u1ea1o m\u1edbi danh m\u1ee5c"}),(0,h.jsx)(t.rH,{open:j,message:x,severity:f,onClose:p}),(0,h.jsx)("div",{className:"card p-4",children:(0,h.jsxs)("form",{onSubmit:q,className:"form",children:[(0,h.jsx)("div",{className:"column my-3",children:(0,h.jsx)(t.U3,{label:"Tr\u1ea1ng th\xe1i",value:b.status,onChange:function(e){return S("status",e.target.checked)}})}),(0,h.jsxs)("div",{className:"column my-3",children:[(0,h.jsx)("label",{className:"form-label required",children:"T\xean chi danh m\u1ee5c"}),(0,h.jsx)("input",{type:"text",name:"name",value:b.name,onChange:k,className:"form-control form-control-solid"}),T.name&&C.name&&(0,h.jsx)("span",{className:"text-danger fs-8",children:C.name})]}),(0,h.jsxs)("div",{className:"column  my-3",children:[(0,h.jsx)("label",{className:"form-label required",children:"Tag"}),(0,h.jsx)("div",{className:"column",children:(0,h.jsx)(t.Sp,{value:b.tag_id,onChange:function(e){return S("tag_id",e.target.value)}})}),T.tag_id&&C.tag_id&&(0,h.jsx)("span",{className:"text-danger fs-8",children:C.tag_id})]}),(0,h.jsxs)("div",{className:"d-flex justify-content-end mt-6",children:[(0,h.jsx)(u.Z,{loading:N,type:"submit",color:"success",variant:"contained",children:"L\u01b0u"}),e&&(0,h.jsx)(u.Z,{onClick:function(){return V()},loading:F,className:"mx-2",type:"button",variant:"outlined",children:"Kh\xf4i ph\u1ee5c"})]})]})})]})})}}}]);
//# sourceMappingURL=531.3cfb0021.chunk.js.map