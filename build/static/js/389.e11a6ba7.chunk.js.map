{"version":3,"file":"static/js/389.e11a6ba7.chunk.js","mappings":"kRA0GA,MA/FA,WACI,IAAQA,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAAuDE,EAAAA,EAAAA,MAA/CC,EAAR,EAAQA,gBAA4BC,EAApC,EAAyBC,UACjBC,GAAYC,EAAAA,EAAAA,IAAcC,EAAAA,GAAAA,QAA1BF,QACFG,GAASC,EAAAA,EAAAA,IAAU,CACrBC,cAAe,CACXC,SAAU,GACVC,MAAO,GACPC,UAAW,GACXC,OAAQ,GACRC,QAAQ,EACRC,MAAO,IAEXC,SAAU,SAACC,GACPC,QAAQC,IAAIF,MAuBpB,OApBAG,EAAAA,EAAAA,UAAS,CACLC,SAAU,CAACC,EAAAA,GAAAA,QAAgBxB,GAC3ByB,QAAS,kBAAMC,EAAAA,GAAAA,SAAkB1B,GAAM,IACvC2B,WAAY3B,IAAMM,GAClBsB,UAAW,SAACC,GAAU,IAAD,EACjBpB,EAAOqB,cAAc,WAAYD,EAAKE,QAAQnB,UAC9CH,EAAOqB,cAAc,QAASD,EAAKE,QAAQlB,OAC3CJ,EAAOqB,cAAc,YAAaD,EAAKE,QAAQjB,WAC/CL,EAAOqB,cAAc,SAAUD,EAAKE,QAAQhB,QAC5CN,EAAOqB,cAAc,QAArB,UAA8BD,EAAKE,QAAQd,aAA3C,aAA8B,EAAoBe,KAAI,SAAAC,GAAC,OAAIA,EAAEC,aAYjE,SAAC,KAAD,CAAYC,eAAgBnC,EAAKQ,EAAAA,GAAAA,IAAeA,EAAAA,GAAAA,KAAe4B,YAAU,EAAzE,UACI,UAAC,EAAAC,SAAD,YACI,SAAC,KAAD,CAAWC,MAAOtC,EAAK,kCAAuB,yCAC9C,gBAAKuC,UAAU,WAAf,UACI,kBAAMA,UAAU,iBAAhB,WACI,gBAAKA,UAAU,qCAAf,UACI,iBAAKA,UAAU,eAAf,WACI,gBAAKC,IAAK/B,EAAOU,OAAOJ,OAAQ0B,IAAI,MACpC,gBAAKF,UAAU,iBAAf,UACI,SAAC,KAAD,CAAWG,QAAStC,EAAgBJ,GAAG,cAAc2C,SAlB/D,SAACC,GACnBzC,EAAgB,CACZyC,EAAAA,EACAC,qBAAqB,EACrBC,SAAU,SAACjB,GAAD,OAAUpB,EAAOqB,cAAc,SAAUD,EAAK,GAAGkB,4BAkB/C,iBAAKR,UAAU,cAAf,WACI,kBAAOA,UAAU,sBAAjB,mCACA,kBAAOS,KAAK,WAAWC,MAAOxC,EAAOU,OAAOP,SAAU+B,SAAUlC,EAAOyC,aAAcC,KAAK,OACtFZ,UAAU,kCAAkCa,YAAY,6BAGhE,iBAAKb,UAAU,uCAAf,WACI,iBAAKA,UAAU,gBAAf,WACI,kBAAOA,UAAU,sBAAjB,oBACA,kBAAOY,KAAK,OAAOH,KAAK,QAAQC,MAAOxC,EAAOU,OAAON,MAAO8B,SAAUlC,EAAOyC,aACzEX,UAAU,kCAAkCa,YAAY,cAGhE,iBAAKb,UAAU,gBAAf,WACI,kBAAOA,UAAU,sBAAjB,gDACA,kBACIY,KAAK,OAAOH,KAAK,YAAYC,MAAOxC,EAAOU,OAAOL,UAAW6B,SAAUlC,EAAOyC,aAC9EX,UAAU,kCAAkCa,YAAY,6CAIpE,iBAAKb,UAAU,uCAAf,WACI,iBAAKA,UAAU,gBAAf,WACI,kBAAOA,UAAU,sBAAjB,iCACA,kBAAOc,WAAYrD,EAAImD,KAAK,WAAWZ,UAAU,kCAAkCa,YAAY,2BAEnG,iBAAKb,UAAU,gBAAf,WACI,kBAAOA,UAAU,sBAAjB,oDACA,kBAAOc,WAAYrD,EAAImD,KAAK,WAAWZ,UAAU,kCAAkCa,YAAY,iDAGvG,gBAAKb,UAAU,cAAf,UACI,SAAC,KAAD,CACIU,MAAOxC,EAAOU,OAAOF,MACrB0B,SAAU,SAACC,GAAD,OAAOnC,EAAOqB,cAAc,QAASc","sources":["app/pages/accounts/account-form.tsx"],"sourcesContent":["import { _account } from \"app/apis\";\nimport { PageTitle, RoleLayout, SelectRole, UploadBtn } from \"app/components\";\nimport { RAccount } from \"app/constants\";\nimport { useMedia, usePermission } from \"app/hooks\";\nimport { QR_KEY } from \"configs\";\nimport { useFormik } from \"formik\";\nimport { ChangeEvent, Fragment } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useParams } from \"react-router\";\nimport './style.scss'\n\nfunction AccountForm() {\n    const { id } = useParams()\n    const { handlePostMedia, isLoading: isLoadingMedia } = useMedia()\n    const { resolve } = usePermission(RAccount.GET_ID)\n    const formik = useFormik({\n        initialValues: {\n            fullname: '',\n            email: '',\n            telephone: '',\n            avatar: '',\n            status: false,\n            roles: []\n        },\n        onSubmit: (values) => {\n            console.log(values)\n        }\n    })\n    useQuery({\n        queryKey: [QR_KEY.account, id],\n        queryFn: () => _account.findById(id || 0),\n        enabled: !!(id && resolve),\n        onSuccess: (data) => {\n            formik.setFieldValue('fullname', data.context.fullname)\n            formik.setFieldValue('email', data.context.email)\n            formik.setFieldValue('telephone', data.context.telephone)\n            formik.setFieldValue('avatar', data.context.avatar)\n            formik.setFieldValue('roles', data.context.roles?.map(i => i.role))\n        }\n    })\n    const onChangeMedia = (e: ChangeEvent<HTMLInputElement>) => {\n        handlePostMedia({\n            e,\n            resetOriginalResult: true,\n            callBack: (data) => formik.setFieldValue('avatar', data[0].original_url)\n        })\n    }\n\n    return (\n        <RoleLayout permissionPath={id ? RAccount.PUT : RAccount.POST} isNavigate>\n            <Fragment>\n                <PageTitle title={id ? \"Thay đổi thông tin\" : \"Tạo mới tài khoản\"} />\n                <div className=\"card p-4\">\n                    <form className=\"py-4 px-8 form\">\n                        <div className=\"my-3 d-flex justify-content-center\">\n                            <div className=\"avatar-image\">\n                                <img src={formik.values.avatar} alt=\"\" />\n                                <div className=\"btn-avatar-cnt\">\n                                    <UploadBtn loading={isLoadingMedia} id=\"file_avatar\" onChange={onChangeMedia} />\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"column my-3\">\n                            <label className=\"form-label required\">Họ và tên</label>\n                            <input name='fullname' value={formik.values.fullname} onChange={formik.handleChange} type=\"text\"\n                                className=\"form-control form-control-solid\" placeholder=\"Họ và tên\"\n                            />\n                        </div>\n                        <div className=\"d-flex justify-content-between row-2\">\n                            <div className=\"column-2 my-3\">\n                                <label className=\"form-label required\">Email</label>\n                                <input type=\"text\" name=\"email\" value={formik.values.email} onChange={formik.handleChange}\n                                    className=\"form-control form-control-solid\" placeholder=\"Email\"\n                                />\n                            </div>\n                            <div className=\"column-2 my-3\">\n                                <label className=\"form-label required\">Số điện thoại</label>\n                                <input\n                                    type=\"text\" name=\"telephone\" value={formik.values.telephone} onChange={formik.handleChange}\n                                    className=\"form-control form-control-solid\" placeholder=\"Số điện thoại\"\n                                />\n                            </div>\n                        </div>\n                        <div className=\"d-flex justify-content-between row-2\">\n                            <div className=\"column-2 my-3\">\n                                <label className=\"form-label required\">Mật khẩu</label>\n                                <input disabled={!!id} type=\"password\" className=\"form-control form-control-solid\" placeholder=\"Mật khẩu\" />\n                            </div>\n                            <div className=\"column-2 my-3\">\n                                <label className=\"form-label required\">Nhập lại mật khẩu</label>\n                                <input disabled={!!id} type=\"password\" className=\"form-control form-control-solid\" placeholder=\"Nhập lại mật khẩu\" />\n                            </div>\n                        </div>\n                        <div className=\"column my-3\">\n                            <SelectRole\n                                value={formik.values.roles}\n                                onChange={(e) => formik.setFieldValue('roles', e)}\n                            />\n                        </div>\n                    </form>\n                </div>\n            </Fragment>\n        </RoleLayout>\n    );\n}\n\nexport default AccountForm;"],"names":["id","useParams","useMedia","handlePostMedia","isLoadingMedia","isLoading","resolve","usePermission","RAccount","formik","useFormik","initialValues","fullname","email","telephone","avatar","status","roles","onSubmit","values","console","log","useQuery","queryKey","QR_KEY","queryFn","_account","enabled","onSuccess","data","setFieldValue","context","map","i","role","permissionPath","isNavigate","Fragment","title","className","src","alt","loading","onChange","e","resetOriginalResult","callBack","original_url","name","value","handleChange","type","placeholder","disabled"],"sourceRoot":""}